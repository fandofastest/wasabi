import builderBoolean from './builder.boolean'
import builderNumber from './builder.number'
import builderString from './builder.string'

const types = {
  boolean: builderBoolean,
  number: builderNumber,
  string: builderString
}

const elementTag = element => {
  element = element || {}

  let tags = []
  Object.keys(element).forEach(key => {
    let type = types[typeof element[key]]
    let newTags = type(element, key)
    tags = tags.concat(newTags)
  })
  return tags
}

const build = (list) => {
  let result = {}

  list.forEach((element, index) => {
    result[index] = elementTag(element)
  })
  return result
}

export default {
  build: build,
  elementTag: elementTag
}